# 说明
没有每一项返回做定义，因为每个学校的页面可能都不一样。

# 接口

### 实例化

`baseUrl` 教务系统URL  
`isVerifyCode` 是否需要验证码

```
QZxPath('http://jwxt.xxx.edu.cn/jsxsd/', true)
```

### 登录教务系统
**login**

`encoded` 学号密码经过加密算法后的字符串

会先测试教务系统是否开放，如果不开放将exit返回69  
返回一个cookie，你可以选择将其存入数据库或发送至客户端，它在之后的请求中是必要的

```
'JSESSIONID=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'
```

### 登录教务系统并返回用户信息
**auth**

`encoded` 学号密码经过加密算法后的字符串

会先调用login，所以会继承login的exit，也会返回登录成功的cookie。  
返回一个数组，顺序可能是  
`姓名,学号,学院,专业,班级`

```
[
    [
        "XXX",
        "000000000",
        "计算机与信息工程学院",
        "计算机科学与技术",
        "0000级计算机科学与技术0班"
    ],
    'JSESSIONID=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'
]
```

### 获取课表
**getSkd**

`cookie` 登录成功后返回的cookie
 
你可能会觉得这个返回太大太繁琐，这其实是为了便于客户端渲染，如果你只需要课程列表，可以自行修改接口，去除`$SKD`的写入部分即可。  
返回一个数组，第一级为周，第二级为星期  
```
d: 类型 b没有课，t有课
t: 时长 目前仅提供标准的2节课类型，之前一套比较烦碎的时长计算被我舍弃，如果你需要可以自行修改接口
jc: 节次 1为12节、2为34节... 这是根据课表页table计算的
name: 课程名称
zc: 周次
tc: 老师
add: 地点
ty: 类别 强智教务系统允许对课程做分类，你可能会看到实践课或理论课的分类，体育课会有例如太极拳或羽毛球的分类
```
这个参数定义可能不适用于所有学校，开头也说过，因为每个学校的页面可能都不一样。

```
[
    [
        [
            {
                "d": "b",
                "t": 2
            },
            {
                "d": "t",
                "t": 2,
                "jc": 1,
                "name": "XXX",
                "zc": "1-16",
                "tc": "XXX教授",
                "add": "XXX楼000",
                "ty": "理论"
            },
            {
                "d": "b",
                "t": 2
            },
            {
                "d": "t",
                "t": 2,
                "jc": 1,
                "name": "XXX",
                "zc": "1-16",
                "tc": "XXX教授",
                "add": "XXX楼000",
                "ty": "实践"
            },
            {
                "d": "b",
                "t": 2
            }
        ],
        //星期二
        ...
    ]
    //第二周
    ...
]
```

### 获取成绩
**getMark**

`cookie` 登录成功后返回的cookie

返回一个数组，第二级顺序可能是  
`序号,开课学期,课程编号,课程名称,分组名,成绩,成绩标识,学分,总学时,绩点,补重学期,考核方式,考试性质,课程属性,课程性质,课程类别`

```
[
    [
        "1",
        "2018-2019-1",
        "0000000",
        "XXX",
        "理论课",
        "99",
        "",
        "2",
        "32",
        "",
        "",
        "",
        "正常考试",
        "公选",
        "公共必修课",
        "人文科学"
    ],
    ...
]
```

### 获取学分
**getMark**

`cookie` 登录成功后返回的cookie

返回一个对象，包含三个数组，具体可参考教务系统学分页面  
第一个数组是第一个table的内容，第一级对应'课程体系(属性)'分类，第二级的顺序可能是  
`课程体系(属性),要求学分,以修学分,正修读学分,还需学分`  
第二个数组是'课程体系(属性)'分类
第三个数组是课程的学分详情，第一级对应'课程体系(属性)'分类，第二级集的顺序可能是  
`课程编号,课程名称,学分,课程属性,课程性质,总成绩,备注,是否学位课`  
如果课程为修读中课程，会有第8个参数值为`true`

```
{
    "0": [
        [
            "公共必修课",
            "00",
            "00.0",
            "00.0",
            "00.0"
        ],
        ...
    ],
    "2": [
        "公共必修课",
        ...
    ],
    "1": [
        [
            {
                "0": "0000000",
                "1": "XXX",
                "2": "0(计划内)",
                "3": "公共必修课",
                "4": "必修",
                "5": "99",
                "6": " ",
                "7": "否"
            },
            ...
        ]
        ...
    ]
}
```

### 获取评教列表
**getPJList**

`cookie` 登录成功后返回的cookie

返回一个数组，第二级顺序可能是  
`序号,课程编号,课程名称,授课教师,评教类别,总评分,已评,是否提交`

```
[
    [
        "1",
        "0606005",
        "XXX",
        "XXX",
        "教学效果评价",
        "0",
        "否",
        "否"
    ],
    ...
]
```

### 自动评教
**doAutoPJ**

`cookie` 登录成功后返回的cookie

无论如何都会返回`ture`，因为教务系统的这个接口也没有明确返回，可以通过[获取评教列表](#获取评教列表)自查

```
true
```

### 退出教务系统
**logout**

`cookie` 登录成功后返回的cookie

无论如何都会返回`ture`

```
true
```

# example.php
这是一个对于移动端APP的接口，你甚至可以直接使用。  

对`cookie`进行了文件储存，没有使用数据库是为了可以开箱即用。  
返回加上了`code`参数，以表明请求成功与否。